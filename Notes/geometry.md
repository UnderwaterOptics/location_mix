# 位置+姿态
1. 使用网络对AUV的姿态及位置进行计算，采取有监督的训练方式，需要构建数据集。
2. 之前的数据集仅仅考虑位置与偏角的对应关系，不满足要求，需要进行改进。
3. AUV的姿态分为x(roll, 翻滚角), y(pitch, 俯仰角), z(yaw, 偏航角)
4. 姿态会影响四象限传感器探测的光线偏角，但由于对姿态角与偏角的几何关系缺乏理解，因此先只考虑yaw不为0的情况，这也基本符合AUV的正常水下姿态。

## 关键步骤
1. 在光信标处建立右手坐标系，$x$轴垂直纸面向里，$y$轴水平向左，$z$轴竖直向上，此时，三个光信标的坐标分别为：$A (0, 0, -\frac{\sqrt{3}r}{3})$, $B (0, -\frac{r}{2}, -\frac{\sqrt{3}r}{6})$, $C (0, \frac{r}{2}, -\frac{\sqrt{3}r}{6})$, 
2. 在AUV处建立同样的右手坐标系，$x$轴指向AUV机头方向，$y$轴垂直机身向左，$z$轴竖直机身向上。当AUV机头正朝向光信标时，AUV坐标系与光信标坐标系的坐标轴方向是一致的。
3. 假设AUV的俯仰角pitch和翻滚角roll都是0，此时只考虑偏航角yaw。偏航角yaw的旋转轴是(0，0，1)
4. 现在需要计算不同的AUV位姿坐标下的偏角或夹角信息。
5. 记AUV位姿为$D (x_0, y_0, z_0, yaw_0)$，先计算AUV坐标系在偏航角之后的坐标系位置，实际上是$x$轴和$y$轴的偏航之后的向量，计算光线与这两个轴的夹角角度（垂直偏角=90-<AUV x轴, 光线>，水平偏角=<光线向AUV xoy平面投影向量, AUV y轴>）
6. 计算光线与光线的夹角，余弦定理。

## 代码实现

